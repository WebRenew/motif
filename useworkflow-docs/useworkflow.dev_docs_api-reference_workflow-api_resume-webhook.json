{
  "markdown": "[Vercel](https://vercel.com/) Slash [Workflow DevKit LogoWorkflow](https://useworkflow.dev/)\n\n- [Docs](https://useworkflow.dev/docs)\n- [Examples](https://github.com/vercel/workflow-examples)\n\n[X](https://x.com/workflowdevkit) [GitHub](https://github.com/vercel/workflow) Search... `⌘K`Ask AI\n\nAsk AI\n\nSearch... `⌘K`\n\n[Getting Started](https://useworkflow.dev/docs/getting-started)\n\n- [Next.js](https://useworkflow.dev/docs/getting-started/next)\n- [Vite](https://useworkflow.dev/docs/getting-started/vite)\n- [Astro](https://useworkflow.dev/docs/getting-started/astro)\n- [Express](https://useworkflow.dev/docs/getting-started/express)\n- [Fastify](https://useworkflow.dev/docs/getting-started/fastify)\n- [Hono](https://useworkflow.dev/docs/getting-started/hono)\n- [Nitro](https://useworkflow.dev/docs/getting-started/nitro)\n- [Nuxt](https://useworkflow.dev/docs/getting-started/nuxt)\n- [SvelteKit](https://useworkflow.dev/docs/getting-started/sveltekit)\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n- [Workflows and Steps](https://useworkflow.dev/docs/foundations/workflows-and-steps)\n- [Starting Workflows](https://useworkflow.dev/docs/foundations/starting-workflows)\n- [Control Flow Patterns](https://useworkflow.dev/docs/foundations/control-flow-patterns)\n- [Errors & Retrying](https://useworkflow.dev/docs/foundations/errors-and-retries)\n- [Hooks & Webhooks](https://useworkflow.dev/docs/foundations/hooks)\n- [Streaming](https://useworkflow.dev/docs/foundations/streaming)\n- [Serialization](https://useworkflow.dev/docs/foundations/serialization)\n- [Idempotency](https://useworkflow.dev/docs/foundations/idempotency)\n\nHow it works\n\n[Observability](https://useworkflow.dev/docs/observability)\n\nAI Agents\n\n- [Building Durable AI Agents](https://useworkflow.dev/docs/ai)\n- [Streaming Updates from Tools](https://useworkflow.dev/docs/ai/streaming-updates-from-tools)\n- [Resumable Streams](https://useworkflow.dev/docs/ai/resumable-streams)\n- [Sleep, Suspense, and Scheduling](https://useworkflow.dev/docs/ai/sleep-and-delays)\n- [Human-in-the-Loop](https://useworkflow.dev/docs/ai/human-in-the-loop)\n- [Patterns for Defining Tools](https://useworkflow.dev/docs/ai/defining-tools)\n- [Chat Session Modeling](https://useworkflow.dev/docs/ai/chat-session-modeling)\n\n[Deploying](https://useworkflow.dev/docs/deploying)\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n[API Reference](https://useworkflow.dev/docs/api-reference)\n\nresumeWebhookAPI Signature\n\n[API Reference](https://useworkflow.dev/docs/api-reference) [workflow/api](https://useworkflow.dev/docs/api-reference/workflow-api)\n\n# resumeWebhook\n\nResumes a workflow run by sending an HTTP `Request` to a webhook identified by its token.\n\nThis function creates a `hook_received` event and re-triggers the workflow to continue execution. It's designed to be called from API routes or server actions that receive external HTTP requests.\n\n`resumeWebhook` is a runtime function that must be called from outside a workflow function.\n\n```\nimport { resumeWebhook } from \"workflow/api\";\n\nexport async function POST(request: Request) {\n  const url = new URL(request.url);\n  const token = url.searchParams.get(\"token\");\n\n  if (!token) {\n    return new Response(\"Missing token\", { status: 400 });\n  }\n\n  try {\n    const response = await resumeWebhook(token, request);\n    return response;\n  } catch (error) {\n    return new Response(\"Webhook not found\", { status: 404 });\n  }\n}\n```\n\n## [API Signature](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#api-signature)\n\n### [Parameters](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#parameters)\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `token` | string | The unique token identifying the hook |\n| `request` | Request | The request to send to the hook |\n\n### [Returns](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#returns)\n\nReturns a `Promise<Response>` that resolves to:\n\n- `Response`: The HTTP response from the workflow's `respondWith()` call\n\nThrows an error if the webhook token is not found or invalid.\n\n## [Examples](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#examples)\n\n### [Basic API Route](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#basic-api-route)\n\nForward incoming HTTP requests to a webhook by token:\n\n```\nimport { resumeWebhook } from \"workflow/api\";\n\nexport async function POST(request: Request) {\n  const url = new URL(request.url);\n  const token = url.searchParams.get(\"token\");\n\n  if (!token) {\n    return new Response(\"Token required\", { status: 400 });\n  }\n\n  try {\n    const response = await resumeWebhook(token, request);\n    return response; // Returns the workflow's custom response\n  } catch (error) {\n    return new Response(\"Webhook not found\", { status: 404 });\n  }\n}\n```\n\n### [GitHub Webhook Handler](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#github-webhook-handler)\n\nHandle GitHub webhook events and forward them to workflows:\n\n```\nimport { resumeWebhook } from \"workflow/api\";\nimport { verifyGitHubSignature } from \"@/lib/github\";\n\nexport async function POST(request: Request) {\n  // Extract repository name from URL\n  const url = new URL(request.url);\n  const repo = url.pathname.split(\"/\").pop();\n\n  // Verify GitHub signature\n  const signature = request.headers.get(\"x-hub-signature-256\");\n  const isValid = await verifyGitHubSignature(request, signature);\n\n  if (!isValid) {\n    return new Response(\"Invalid signature\", { status: 401 });\n  }\n\n  // Construct deterministic token\n  const token = `github_webhook:${repo}`;\n\n  try {\n    const response = await resumeWebhook(token, request);\n    return response;\n  } catch (error) {\n    return new Response(\"Workflow not found\", { status: 404 });\n  }\n}\n```\n\n### [Slack Slash Command Handler](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#slack-slash-command-handler)\n\nProcess Slack slash commands and route them to workflow webhooks:\n\n```\nimport { resumeWebhook } from \"workflow/api\";\n\nexport async function POST(request: Request) {\n  const formData = await request.formData();\n  const channelId = formData.get(\"channel_id\") as string;\n  const command = formData.get(\"command\") as string;\n\n  // Verify Slack request signature\n  const slackSignature = request.headers.get(\"x-slack-signature\");\n  if (!slackSignature) {\n    return new Response(\"Unauthorized\", { status: 401 });\n  }\n\n  // Construct token from channel ID\n  const token = `slack_command:${channelId}`;\n\n  try {\n    const response = await resumeWebhook(token, request);\n    return response;\n  } catch (error) {\n    // If no workflow is listening, return a default response\n    return new Response(\n      JSON.stringify({\n        response_type: \"ephemeral\",\n        text: \"No active workflow for this channel\"\n      }),\n      {\n        headers: { \"Content-Type\": \"application/json\" }\n      }\n    );\n  }\n}\n```\n\n### [Multi-Tenant Webhook Router](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#multi-tenant-webhook-router)\n\nRoute webhooks to different workflows based on tenant/organization:\n\n```\nimport { resumeWebhook } from \"workflow/api\";\n\nexport async function POST(request: Request) {\n  const url = new URL(request.url);\n\n  // Extract tenant and webhook ID from path\n  // e.g., /api/webhooks/tenant-123/webhook-abc\n  const [, , , tenantId, webhookId] = url.pathname.split(\"/\");\n\n  if (!tenantId || !webhookId) {\n    return new Response(\"Invalid webhook URL\", { status: 400 });\n  }\n\n  // Verify API key for tenant\n  const apiKey = request.headers.get(\"authorization\");\n  const isAuthorized = await verifyTenantApiKey(tenantId, apiKey);\n\n  if (!isAuthorized) {\n    return new Response(\"Unauthorized\", { status: 401 });\n  }\n\n  // Construct namespaced token\n  const token = `tenant:${tenantId}:webhook:${webhookId}`;\n\n  try {\n    const response = await resumeWebhook(token, request);\n    return response;\n  } catch (error) {\n    return new Response(\"Webhook not found or expired\", { status: 404 });\n  }\n}\n\nasync function verifyTenantApiKey(tenantId: string, apiKey: string | null) {\n  // Verify API key logic\n  return apiKey === process.env[`TENANT_${tenantId}_API_KEY`];\n}\n```\n\n### [Server Action (Next.js)](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#server-action-nextjs)\n\nUse `resumeWebhook` in a Next.js server action:\n\n```\n\"use server\";\n\nimport { resumeWebhook } from \"workflow/api\";\n\nexport async function triggerWebhook(\n  token: string,\n  payload: Record<string, any>\n) {\n  // Create a Request object from the payload\n  const request = new Request(\"http://localhost/webhook\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(payload),\n  });\n\n  try {\n    const response = await resumeWebhook(token, request);\n\n    // Parse and return the response\n    const contentType = response.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n      return await response.json();\n    }\n\n    return await response.text();\n  } catch (error) {\n    throw new Error(\"Webhook not found\");\n  }\n}\n```\n\n## [Related Functions](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook\\#related-functions)\n\n- [`createWebhook()`](https://useworkflow.dev/docs/api-reference/workflow/create-webhook) \\- Create a webhook in a workflow\n- [`resumeHook()`](https://useworkflow.dev/docs/api-reference/workflow-api/resume-hook) \\- Resume a hook with arbitrary payload\n- [`defineHook()`](https://useworkflow.dev/docs/api-reference/workflow/define-hook) \\- Type-safe hook helper\n\n[resumeHook\\\\\n\\\\\nPrevious Page](https://useworkflow.dev/docs/api-reference/workflow-api/resume-hook) [start\\\\\n\\\\\nNext Page](https://useworkflow.dev/docs/api-reference/workflow-api/start)\n\nOn this page\n\n[API Signature](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#api-signature) [Parameters](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#parameters) [Returns](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#returns) [Examples](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#examples) [Basic API Route](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#basic-api-route) [GitHub Webhook Handler](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#github-webhook-handler) [Slack Slash Command Handler](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#slack-slash-command-handler) [Multi-Tenant Webhook Router](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#multi-tenant-webhook-router) [Server Action (Next.js)](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#server-action-nextjs) [Related Functions](https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook#related-functions)\n\n[GitHubEdit this page on GitHub](https://github.com/vercel/workflow/edit/main/content/docs/api-reference/workflow-api/resume-webhook.mdx) Scroll to topGive feedbackCopy pageAsk AI about this pageOpen in chat\n\n## Chat\n\nWhat is Workflow?How does retrying work?What control flow patterns are there?How do directives work?How do I build an AI agent?\n\nTip: You can open and close chat with `⌘I`\n\n0 / 1000",
  "metadata": {
    "viewport": "width=device-width, initial-scale=1",
    "og:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "og:title": "resumeWebhook",
    "title": "resumeWebhook",
    "og:image:width": "1200",
    "og:image:height": "628",
    "twitter:image:width": "1200",
    "twitter:card": "summary_large_image",
    "twitter:image:type": "image/png",
    "og:image:type": "image/png",
    "next-size-adjust": "",
    "language": "en",
    "ogTitle": "resumeWebhook",
    "ogImage": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:title": "resumeWebhook",
    "twitter:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image:height": "628",
    "favicon": "https://useworkflow.dev/favicon.ico?favicon.e7ce0d1c.ico",
    "scrapeId": "019bf2d4-569c-75d7-940f-dd9e8fa3dc2b",
    "sourceURL": "https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook",
    "url": "https://useworkflow.dev/docs/api-reference/workflow-api/resume-webhook",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "hit",
    "cachedAt": "2026-01-24T22:01:12.492Z",
    "creditsUsed": 1
  }
}