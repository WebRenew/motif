{
  "markdown": "[Vercel](https://vercel.com/) Slash [Workflow DevKit LogoWorkflow](https://useworkflow.dev/)\n\n- [Docs](https://useworkflow.dev/docs)\n- [Examples](https://github.com/vercel/workflow-examples)\n\n[X](https://x.com/workflowdevkit) [GitHub](https://github.com/vercel/workflow) Search... `⌘K`Ask AI\n\nAsk AI\n\nSearch... `⌘K`\n\n[Getting Started](https://useworkflow.dev/docs/getting-started)\n\n- [Next.js](https://useworkflow.dev/docs/getting-started/next)\n- [Vite](https://useworkflow.dev/docs/getting-started/vite)\n- [Astro](https://useworkflow.dev/docs/getting-started/astro)\n- [Express](https://useworkflow.dev/docs/getting-started/express)\n- [Fastify](https://useworkflow.dev/docs/getting-started/fastify)\n- [Hono](https://useworkflow.dev/docs/getting-started/hono)\n- [Nitro](https://useworkflow.dev/docs/getting-started/nitro)\n- [Nuxt](https://useworkflow.dev/docs/getting-started/nuxt)\n- [SvelteKit](https://useworkflow.dev/docs/getting-started/sveltekit)\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n- [Workflows and Steps](https://useworkflow.dev/docs/foundations/workflows-and-steps)\n- [Starting Workflows](https://useworkflow.dev/docs/foundations/starting-workflows)\n- [Control Flow Patterns](https://useworkflow.dev/docs/foundations/control-flow-patterns)\n- [Errors & Retrying](https://useworkflow.dev/docs/foundations/errors-and-retries)\n- [Hooks & Webhooks](https://useworkflow.dev/docs/foundations/hooks)\n- [Streaming](https://useworkflow.dev/docs/foundations/streaming)\n- [Serialization](https://useworkflow.dev/docs/foundations/serialization)\n- [Idempotency](https://useworkflow.dev/docs/foundations/idempotency)\n\nHow it works\n\n[Observability](https://useworkflow.dev/docs/observability)\n\nAI Agents\n\n- [Building Durable AI Agents](https://useworkflow.dev/docs/ai)\n- [Streaming Updates from Tools](https://useworkflow.dev/docs/ai/streaming-updates-from-tools)\n- [Resumable Streams](https://useworkflow.dev/docs/ai/resumable-streams)\n- [Sleep, Suspense, and Scheduling](https://useworkflow.dev/docs/ai/sleep-and-delays)\n- [Human-in-the-Loop](https://useworkflow.dev/docs/ai/human-in-the-loop)\n- [Patterns for Defining Tools](https://useworkflow.dev/docs/ai/defining-tools)\n- [Chat Session Modeling](https://useworkflow.dev/docs/ai/chat-session-modeling)\n\n[Deploying](https://useworkflow.dev/docs/deploying)\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n[API Reference](https://useworkflow.dev/docs/api-reference)\n\ncreateHookAPI Signature\n\n[API Reference](https://useworkflow.dev/docs/api-reference) [workflow](https://useworkflow.dev/docs/api-reference/workflow)\n\n# createHook\n\nCreates a low-level hook primitive that can be used to resume a workflow run with arbitrary payloads.\n\nHooks allow external systems to send data to a paused workflow without the HTTP-specific constraints of webhooks. They're identified by a token and can receive any serializable payload.\n\n```\nimport { createHook } from \"workflow\"\n\nexport async function hookWorkflow() {\n  \"use workflow\";\n  const hook = createHook();\n  const result = await hook; // Suspends the workflow until the hook is resumed\n}\n```\n\n## [API Signature](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#api-signature)\n\n### [Parameters](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#parameters)\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `options` | HookOptions | Configuration options for the hook. |\n\n#### [HookOptions](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#hookoptions)\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `token` | string | Unique token that is used to associate with the hook.<br>When specifying an explicit token, the token should be constructed<br>with information that the dispatching side can reliably reconstruct<br>the token with the information it has available.<br>If not provided, a randomly generated token will be assigned. |\n| `metadata` | Serializable | Additional user-defined data to include with the hook payload. |\n\n### [Returns](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#returns)\n\n`Hook<T>`\n\n#### [Hook](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#hook)\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `token` | string | The token used to identify this hook. |\n\nThe returned `Hook` object also implements `AsyncIterable<T>`, which allows you to iterate over incoming payloads using `for await...of` syntax.\n\n## [Examples](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#examples)\n\n### [Basic Usage](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#basic-usage)\n\nWhen creating a hook, you can specify a payload type to be used for automatic type safety.\n\n```\nimport { createHook } from \"workflow\"\n\nexport async function approvalWorkflow() {\n  \"use workflow\";\n\n  const hook = createHook<{ approved: boolean; comment: string }>();\n  console.log(\"Send approval to token:\", hook.token);\n\n  const result = await hook;\n\n  if (result.approved) {\n    console.log(\"Approved with comment:\", result.comment);\n  }\n}\n```\n\n### [Customizing Tokens](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#customizing-tokens)\n\nTokens are used to identify a specific hook. You can customize the token to be more specific to a use case.\n\n```\nimport { createHook } from \"workflow\";\n\nexport async function slackBotWorkflow(channelId: string) {\n  \"use workflow\";\n\n  // Token constructed from channel ID\n  const hook = createHook<SlackMessage>({\n    token: `slack_webhook:${channelId}`,\n  });\n\n  for await (const message of hook) {\n    if (message.text === \"/stop\") {\n      break;\n    }\n    await processMessage(message);\n  }\n}\n```\n\n### [Waiting for Multiple Payloads](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#waiting-for-multiple-payloads)\n\nYou can also wait for multiple payloads by using the `for await...of` syntax.\n\n```\nimport { createHook } from \"workflow\"\n\nexport async function collectHookWorkflow() {\n  \"use workflow\";\n\n  const hook = createHook<{ message: string; done?: boolean }>();\n\n  const payloads = [];\n  for await (const payload of hook) {\n    payloads.push(payload);\n\n    if (payload.done) break;\n  }\n\n  return payloads;\n}\n```\n\n## [Related Functions](https://useworkflow.dev/docs/api-reference/workflow/create-hook\\#related-functions)\n\n- [`defineHook()`](https://useworkflow.dev/docs/api-reference/workflow/define-hook) \\- Type-safe hook helper\n- [`resumeHook()`](https://useworkflow.dev/docs/api-reference/workflow-api/resume-hook) \\- Resume a hook with a payload\n- [`createWebhook()`](https://useworkflow.dev/docs/api-reference/workflow/create-webhook) \\- Higher-level HTTP webhook abstraction\n\n[workflow\\\\\n\\\\\nPrevious Page](https://useworkflow.dev/docs/api-reference/workflow) [createWebhook\\\\\n\\\\\nNext Page](https://useworkflow.dev/docs/api-reference/workflow/create-webhook)\n\nOn this page\n\n[API Signature](https://useworkflow.dev/docs/api-reference/workflow/create-hook#api-signature) [Parameters](https://useworkflow.dev/docs/api-reference/workflow/create-hook#parameters) [HookOptions](https://useworkflow.dev/docs/api-reference/workflow/create-hook#hookoptions) [Returns](https://useworkflow.dev/docs/api-reference/workflow/create-hook#returns) [Hook](https://useworkflow.dev/docs/api-reference/workflow/create-hook#hook) [Examples](https://useworkflow.dev/docs/api-reference/workflow/create-hook#examples) [Basic Usage](https://useworkflow.dev/docs/api-reference/workflow/create-hook#basic-usage) [Customizing Tokens](https://useworkflow.dev/docs/api-reference/workflow/create-hook#customizing-tokens) [Waiting for Multiple Payloads](https://useworkflow.dev/docs/api-reference/workflow/create-hook#waiting-for-multiple-payloads) [Related Functions](https://useworkflow.dev/docs/api-reference/workflow/create-hook#related-functions)\n\n[GitHubEdit this page on GitHub](https://github.com/vercel/workflow/edit/main/content/docs/api-reference/workflow/create-hook.mdx) Scroll to topGive feedbackCopy pageAsk AI about this pageOpen in chat\n\n## Chat\n\nWhat is Workflow?How does retrying work?What control flow patterns are there?How do directives work?How do I build an AI agent?\n\nTip: You can open and close chat with `⌘I`\n\n0 / 1000",
  "metadata": {
    "ogTitle": "createHook",
    "viewport": "width=device-width, initial-scale=1",
    "og:image:type": "image/png",
    "twitter:image:width": "1200",
    "twitter:image:type": "image/png",
    "title": "createHook",
    "og:image:height": "628",
    "twitter:title": "createHook",
    "og:image:width": "1200",
    "language": "en",
    "og:title": "createHook",
    "og:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "next-size-adjust": "",
    "twitter:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image:height": "628",
    "ogImage": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:card": "summary_large_image",
    "favicon": "https://useworkflow.dev/favicon.ico?favicon.e7ce0d1c.ico",
    "scrapeId": "019bf2d4-569c-75d7-940f-26cb42858dc1",
    "sourceURL": "https://useworkflow.dev/docs/api-reference/workflow/create-hook",
    "url": "https://useworkflow.dev/docs/api-reference/workflow/create-hook",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "hit",
    "cachedAt": "2026-01-24T22:00:40.364Z",
    "creditsUsed": 1
  }
}