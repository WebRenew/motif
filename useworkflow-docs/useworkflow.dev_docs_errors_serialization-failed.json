{
  "markdown": "[Vercel](https://vercel.com/) Slash [Workflow DevKit LogoWorkflow](https://useworkflow.dev/)\n\n- [Docs](https://useworkflow.dev/docs)\n- [Examples](https://github.com/vercel/workflow-examples)\n\n[X](https://x.com/workflowdevkit) [GitHub](https://github.com/vercel/workflow) Search... `⌘K`Ask AI\n\nAsk AI\n\nSearch... `⌘K`\n\n[Getting Started](https://useworkflow.dev/docs/getting-started)\n\n- [Next.js](https://useworkflow.dev/docs/getting-started/next)\n- [Vite](https://useworkflow.dev/docs/getting-started/vite)\n- [Astro](https://useworkflow.dev/docs/getting-started/astro)\n- [Express](https://useworkflow.dev/docs/getting-started/express)\n- [Fastify](https://useworkflow.dev/docs/getting-started/fastify)\n- [Hono](https://useworkflow.dev/docs/getting-started/hono)\n- [Nitro](https://useworkflow.dev/docs/getting-started/nitro)\n- [Nuxt](https://useworkflow.dev/docs/getting-started/nuxt)\n- [SvelteKit](https://useworkflow.dev/docs/getting-started/sveltekit)\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n- [Workflows and Steps](https://useworkflow.dev/docs/foundations/workflows-and-steps)\n- [Starting Workflows](https://useworkflow.dev/docs/foundations/starting-workflows)\n- [Control Flow Patterns](https://useworkflow.dev/docs/foundations/control-flow-patterns)\n- [Errors & Retrying](https://useworkflow.dev/docs/foundations/errors-and-retries)\n- [Hooks & Webhooks](https://useworkflow.dev/docs/foundations/hooks)\n- [Streaming](https://useworkflow.dev/docs/foundations/streaming)\n- [Serialization](https://useworkflow.dev/docs/foundations/serialization)\n- [Idempotency](https://useworkflow.dev/docs/foundations/idempotency)\n\nHow it works\n\n[Observability](https://useworkflow.dev/docs/observability)\n\nAI Agents\n\n- [Building Durable AI Agents](https://useworkflow.dev/docs/ai)\n- [Streaming Updates from Tools](https://useworkflow.dev/docs/ai/streaming-updates-from-tools)\n- [Resumable Streams](https://useworkflow.dev/docs/ai/resumable-streams)\n- [Sleep, Suspense, and Scheduling](https://useworkflow.dev/docs/ai/sleep-and-delays)\n- [Human-in-the-Loop](https://useworkflow.dev/docs/ai/human-in-the-loop)\n- [Patterns for Defining Tools](https://useworkflow.dev/docs/ai/defining-tools)\n- [Chat Session Modeling](https://useworkflow.dev/docs/ai/chat-session-modeling)\n\n[Deploying](https://useworkflow.dev/docs/deploying)\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n[API Reference](https://useworkflow.dev/docs/api-reference)\n\nserialization-failedError Message\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n# serialization-failed\n\nThis error occurs when you try to pass non-serializable data between execution boundaries in your workflow. All data passed between workflow functions, step functions, and the workflow runtime must be serializable to persist in the event log.\n\n## [Error Message](https://useworkflow.dev/docs/errors/serialization-failed\\#error-message)\n\n```\nFailed to serialize workflow arguments. Ensure you're passing serializable types\n(plain objects, arrays, primitives, Date, RegExp, Map, Set).\n```\n\nThis error can appear when:\n\n- Serializing workflow arguments when calling `start()`\n- Serializing workflow return values\n- Serializing step arguments\n- Serializing step return values\n\n## [Why This Happens](https://useworkflow.dev/docs/errors/serialization-failed\\#why-this-happens)\n\nWorkflows persist their state using an event log. Every value that crosses execution boundaries must be:\n\n1. **Serialized** to be stored in the event log\n2. **Deserialized** when the workflow resumes\n\nFunctions, class instances, symbols, and other non-serializable types cannot be properly reconstructed after serialization, which would break workflow replay.\n\n## [Common Causes](https://useworkflow.dev/docs/errors/serialization-failed\\#common-causes)\n\n### [Passing Functions](https://useworkflow.dev/docs/errors/serialization-failed\\#passing-functions)\n\n```\n// Error - functions cannot be serialized\nexport async function processWorkflow() {\n  \"use workflow\";\n\n  const callback = () => console.log(\"done\");\n  await processStep(callback); // Error!\n}\n```\n\n**Solution:** Pass data instead, then define the function logic in the step.\n\n```\n// Fixed - pass configuration data instead\nexport async function processWorkflow() {\n  \"use workflow\";\n\n  await processStep({ shouldLog: true });\n}\n\nasync function processStep(config: { shouldLog: boolean }) {\n  \"use step\";\n\n  if (config.shouldLog) {\n    console.log(\"done\");\n  }\n}\n```\n\n### [Class Instances](https://useworkflow.dev/docs/errors/serialization-failed\\#class-instances)\n\n```\nclass User {\n  constructor(public name: string) {}\n  greet() { return `Hello ${this.name}`; }\n}\n\n// Error - class instances lose methods after serialization\nexport async function greetWorkflow() {\n  \"use workflow\";\n\n  await greetStep(new User(\"Alice\")); // Error!\n}\n```\n\n**Solution:** Pass plain objects and reconstruct the class in the step.\n\n```\nclass User {\n  constructor(public name: string) {}\n  greet() { return `Hello ${this.name}`; }\n}\n\n// Fixed - pass plain object, reconstruct in step\nexport async function greetWorkflow() {\n  \"use workflow\";\n\n  await greetStep({ name: \"Alice\" });\n}\n\nasync function greetStep(userData: { name: string }) {\n  \"use step\";\n\n  const user = new User(userData.name);\n  console.log(user.greet());\n}\n```\n\n## [Supported Serializable Types](https://useworkflow.dev/docs/errors/serialization-failed\\#supported-serializable-types)\n\nWorkflow DevKit supports these types across execution boundaries:\n\n### [Standard JSON Types](https://useworkflow.dev/docs/errors/serialization-failed\\#standard-json-types)\n\n- `string`, `number`, `boolean`, `null`\n- Arrays of serializable values\n- Plain objects with serializable values\n\nTo learn more about supported types, see the [Serialization](https://useworkflow.dev/docs/foundations/serialization) section.\n\n## [Debugging Serialization Issues](https://useworkflow.dev/docs/errors/serialization-failed\\#debugging-serialization-issues)\n\nTo identify what's causing serialization to fail:\n\n1. **Check the error stack trace** \\- it often shows which property failed\n2. **Simplify your data** \\- temporarily pass smaller objects to isolate the issue\n3. **Ensure you are using supported data types** \\- see the [Serialization](https://useworkflow.dev/docs/foundations/serialization) section for more details\n\n[node-js-module-in-workflow\\\\\n\\\\\nPrevious Page](https://useworkflow.dev/docs/errors/node-js-module-in-workflow) [start-invalid-workflow-function\\\\\n\\\\\nNext Page](https://useworkflow.dev/docs/errors/start-invalid-workflow-function)\n\nOn this page\n\n[Error Message](https://useworkflow.dev/docs/errors/serialization-failed#error-message) [Why This Happens](https://useworkflow.dev/docs/errors/serialization-failed#why-this-happens) [Common Causes](https://useworkflow.dev/docs/errors/serialization-failed#common-causes) [Passing Functions](https://useworkflow.dev/docs/errors/serialization-failed#passing-functions) [Class Instances](https://useworkflow.dev/docs/errors/serialization-failed#class-instances) [Supported Serializable Types](https://useworkflow.dev/docs/errors/serialization-failed#supported-serializable-types) [Standard JSON Types](https://useworkflow.dev/docs/errors/serialization-failed#standard-json-types) [Debugging Serialization Issues](https://useworkflow.dev/docs/errors/serialization-failed#debugging-serialization-issues)\n\n[GitHubEdit this page on GitHub](https://github.com/vercel/workflow/edit/main/content/docs/errors/serialization-failed.mdx) Scroll to topGive feedbackCopy pageAsk AI about this pageOpen in chat\n\n## Chat\n\nWhat is Workflow?How does retrying work?What control flow patterns are there?How do directives work?How do I build an AI agent?\n\nTip: You can open and close chat with `⌘I`\n\n0 / 1000",
  "metadata": {
    "title": "serialization-failed",
    "ogImage": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "og:title": "serialization-failed",
    "twitter:title": "serialization-failed",
    "viewport": "width=device-width, initial-scale=1",
    "og:image:height": "628",
    "language": "en",
    "next-size-adjust": "",
    "twitter:card": "summary_large_image",
    "og:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image:width": "1200",
    "twitter:image:type": "image/png",
    "og:image:type": "image/png",
    "twitter:image:height": "628",
    "ogTitle": "serialization-failed",
    "og:image:width": "1200",
    "favicon": "https://useworkflow.dev/favicon.ico?favicon.e7ce0d1c.ico",
    "scrapeId": "019bf2d4-569c-75d7-940f-601772f3a1a2",
    "sourceURL": "https://useworkflow.dev/docs/errors/serialization-failed",
    "url": "https://useworkflow.dev/docs/errors/serialization-failed",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "hit",
    "cachedAt": "2026-01-24T22:00:54.490Z",
    "creditsUsed": 1
  }
}