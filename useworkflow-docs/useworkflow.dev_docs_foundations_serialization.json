{
  "markdown": "[Vercel](https://vercel.com/) Slash [Workflow DevKit LogoWorkflow](https://useworkflow.dev/)\n\n- [Docs](https://useworkflow.dev/docs)\n- [Examples](https://github.com/vercel/workflow-examples)\n\n[X](https://x.com/workflowdevkit) [GitHub](https://github.com/vercel/workflow) Search... `⌘K`Ask AI\n\nAsk AI\n\nSearch... `⌘K`\n\n[Getting Started](https://useworkflow.dev/docs/getting-started)\n\n- [Next.js](https://useworkflow.dev/docs/getting-started/next)\n- [Vite](https://useworkflow.dev/docs/getting-started/vite)\n- [Astro](https://useworkflow.dev/docs/getting-started/astro)\n- [Express](https://useworkflow.dev/docs/getting-started/express)\n- [Fastify](https://useworkflow.dev/docs/getting-started/fastify)\n- [Hono](https://useworkflow.dev/docs/getting-started/hono)\n- [Nitro](https://useworkflow.dev/docs/getting-started/nitro)\n- [Nuxt](https://useworkflow.dev/docs/getting-started/nuxt)\n- [SvelteKit](https://useworkflow.dev/docs/getting-started/sveltekit)\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n- [Workflows and Steps](https://useworkflow.dev/docs/foundations/workflows-and-steps)\n- [Starting Workflows](https://useworkflow.dev/docs/foundations/starting-workflows)\n- [Control Flow Patterns](https://useworkflow.dev/docs/foundations/control-flow-patterns)\n- [Errors & Retrying](https://useworkflow.dev/docs/foundations/errors-and-retries)\n- [Hooks & Webhooks](https://useworkflow.dev/docs/foundations/hooks)\n- [Streaming](https://useworkflow.dev/docs/foundations/streaming)\n- [Serialization](https://useworkflow.dev/docs/foundations/serialization)\n- [Idempotency](https://useworkflow.dev/docs/foundations/idempotency)\n\nHow it works\n\n[Observability](https://useworkflow.dev/docs/observability)\n\nAI Agents\n\n- [Building Durable AI Agents](https://useworkflow.dev/docs/ai)\n- [Streaming Updates from Tools](https://useworkflow.dev/docs/ai/streaming-updates-from-tools)\n- [Resumable Streams](https://useworkflow.dev/docs/ai/resumable-streams)\n- [Sleep, Suspense, and Scheduling](https://useworkflow.dev/docs/ai/sleep-and-delays)\n- [Human-in-the-Loop](https://useworkflow.dev/docs/ai/human-in-the-loop)\n- [Patterns for Defining Tools](https://useworkflow.dev/docs/ai/defining-tools)\n- [Chat Session Modeling](https://useworkflow.dev/docs/ai/chat-session-modeling)\n\n[Deploying](https://useworkflow.dev/docs/deploying)\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n[API Reference](https://useworkflow.dev/docs/api-reference)\n\nSerializationSupported Serializable Types\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n# Serialization\n\nAll function arguments and return values passed between workflow and step functions must be serializable. Workflow DevKit uses a custom serialization system built on top of [devalue](https://github.com/sveltejs/devalue). This system supports standard JSON types, as well as a few additional popular Web API types.\n\nThe serialization system ensures that all data persists correctly across workflow suspensions and resumptions, enabling durable execution.\n\n## [Supported Serializable Types](https://useworkflow.dev/docs/foundations/serialization\\#supported-serializable-types)\n\nThe following types can be serialized and passed through workflow functions:\n\n**Standard JSON Types:**\n\n- `string`\n- `number`\n- `boolean`\n- `null`\n- Arrays of serializable values\n- Objects with string keys and serializable values\n\n**Extended Types:**\n\n- `undefined`\n- `bigint`\n- `ArrayBuffer`\n- `BigInt64Array`, `BigUint64Array`\n- `Date`\n- `Float32Array`, `Float64Array`\n- `Int8Array`, `Int16Array`, `Int32Array`\n- `Map<Serializable, Serializable>`\n- `RegExp`\n- `Set<Serializable>`\n- `URL`\n- `URLSearchParams`\n- `Uint8Array`, `Uint8ClampedArray`, `Uint16Array`, `Uint32Array`\n\n**Notable:**\n\nThese types have special handling and are explained in detail in the sections below.\n\n- `Headers`\n- `Request`\n- `Response`\n- `ReadableStream<Serializable>`\n- `WritableStream<Serializable>`\n\n## [Streaming](https://useworkflow.dev/docs/foundations/serialization\\#streaming)\n\n`ReadableStream` and `WritableStream` are supported as serializable types with special handling. These streams can be passed between workflow and step functions while maintaining their streaming capabilities.\n\nFor complete information about using streams in workflows, including patterns for AI streaming, file processing, and progress updates, see the [Streaming Guide](https://useworkflow.dev/docs/foundations/streaming).\n\n## [Request & Response](https://useworkflow.dev/docs/foundations/serialization\\#request--response)\n\nThe Web API [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request) and [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response) APIs are supported by the serialization system,\nand can be passed around between workflow and step functions similarly to other data types.\n\nAs a convenience, these two APIs are treated slightly differently when used\nwithin a workflow function: calling the `text()` / `json()` / `arrayBuffer()` instance\nmethods is automatically treated as a step function invocation. This allows you to consume\nthe body directly in the workflow context while maintaining proper serialization and caching.\n\nFor example, consider how receiving a webhook request provides the entire `Request`\ninstance into the workflow context. You may consume the body of that request directly\nin the workflow, which will be cached as a step result for future resumptions of the workflow:\n\nworkflows/webhook.ts\n\n```\n\n```\n\n### [Using `fetch` in Workflows](https://useworkflow.dev/docs/foundations/serialization\\#using-fetch-in-workflows)\n\nBecause `Request` and `Response` are serializable, Workflow DevKit provides a `fetch` function that can be used directly in workflow functions:\n\nworkflows/api-call.ts\n\n```\n\n```\n\nThe implementation is straightforward - `fetch` from workflow is a step function that wraps the standard `fetch`:\n\nImplementation\n\n```\n\n```\n\nThis allows you to make HTTP requests directly in workflow functions while maintaining deterministic replay behavior through automatic caching.\n\n## [Pass-by-Value Semantics](https://useworkflow.dev/docs/foundations/serialization\\#pass-by-value-semantics)\n\n**Parameters are passed by value, not by reference.** Steps receive deserialized copies of data. Mutations inside a step won't affect the original in the workflow.\n\n**Incorrect:**\n\nworkflows/incorrect-mutation.ts\n\n```\n\n```\n\n**Correct - return the modified data:**\n\nworkflows/correct-mutation.ts\n\n```\n\n```\n\n[Streaming\\\\\n\\\\\nPrevious Page](https://useworkflow.dev/docs/foundations/streaming) [Idempotency\\\\\n\\\\\nNext Page](https://useworkflow.dev/docs/foundations/idempotency)\n\nOn this page\n\n[Supported Serializable Types](https://useworkflow.dev/docs/foundations/serialization#supported-serializable-types) [Streaming](https://useworkflow.dev/docs/foundations/serialization#streaming) [Request & Response](https://useworkflow.dev/docs/foundations/serialization#request--response) [Using `fetch` in Workflows](https://useworkflow.dev/docs/foundations/serialization#using-fetch-in-workflows) [Pass-by-Value Semantics](https://useworkflow.dev/docs/foundations/serialization#pass-by-value-semantics)\n\n[GitHubEdit this page on GitHub](https://github.com/vercel/workflow/edit/main/content/docs/foundations/serialization.mdx) Scroll to topGive feedbackCopy pageAsk AI about this pageOpen in chat\n\n## Chat\n\nWhat is Workflow?How does retrying work?What control flow patterns are there?How do directives work?How do I build an AI agent?\n\nTip: You can open and close chat with `⌘I`\n\n0 / 1000",
  "metadata": {
    "next-size-adjust": "",
    "ogTitle": "Serialization",
    "language": "en",
    "twitter:image:type": "image/png",
    "twitter:card": "summary_large_image",
    "og:title": "Serialization",
    "og:image:height": "628",
    "title": "Serialization",
    "ogImage": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "viewport": "width=device-width, initial-scale=1",
    "og:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image:width": "1200",
    "og:image:type": "image/png",
    "twitter:image:height": "628",
    "og:image:width": "1200",
    "twitter:title": "Serialization",
    "favicon": "https://useworkflow.dev/favicon.ico?favicon.e7ce0d1c.ico",
    "scrapeId": "019bf2d4-569c-75d7-940f-ca743d25c388",
    "sourceURL": "https://useworkflow.dev/docs/foundations/serialization",
    "url": "https://useworkflow.dev/docs/foundations/serialization",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "hit",
    "cachedAt": "2026-01-24T22:01:11.293Z",
    "creditsUsed": 1
  }
}