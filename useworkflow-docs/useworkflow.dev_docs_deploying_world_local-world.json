{
  "markdown": "[Vercel](https://vercel.com/) Slash [Workflow DevKit LogoWorkflow](https://useworkflow.dev/)\n\n- [Docs](https://useworkflow.dev/docs)\n- [Examples](https://github.com/vercel/workflow-examples)\n\n[X](https://x.com/workflowdevkit) [GitHub](https://github.com/vercel/workflow) Search... `⌘K`Ask AI\n\nAsk AI\n\nSearch... `⌘K`\n\n[Getting Started](https://useworkflow.dev/docs/getting-started)\n\n- [Next.js](https://useworkflow.dev/docs/getting-started/next)\n- [Vite](https://useworkflow.dev/docs/getting-started/vite)\n- [Astro](https://useworkflow.dev/docs/getting-started/astro)\n- [Express](https://useworkflow.dev/docs/getting-started/express)\n- [Fastify](https://useworkflow.dev/docs/getting-started/fastify)\n- [Hono](https://useworkflow.dev/docs/getting-started/hono)\n- [Nitro](https://useworkflow.dev/docs/getting-started/nitro)\n- [Nuxt](https://useworkflow.dev/docs/getting-started/nuxt)\n- [SvelteKit](https://useworkflow.dev/docs/getting-started/sveltekit)\n\n[Foundations](https://useworkflow.dev/docs/foundations)\n\n- [Workflows and Steps](https://useworkflow.dev/docs/foundations/workflows-and-steps)\n- [Starting Workflows](https://useworkflow.dev/docs/foundations/starting-workflows)\n- [Control Flow Patterns](https://useworkflow.dev/docs/foundations/control-flow-patterns)\n- [Errors & Retrying](https://useworkflow.dev/docs/foundations/errors-and-retries)\n- [Hooks & Webhooks](https://useworkflow.dev/docs/foundations/hooks)\n- [Streaming](https://useworkflow.dev/docs/foundations/streaming)\n- [Serialization](https://useworkflow.dev/docs/foundations/serialization)\n- [Idempotency](https://useworkflow.dev/docs/foundations/idempotency)\n\nHow it works\n\n[Observability](https://useworkflow.dev/docs/observability)\n\nAI Agents\n\n- [Building Durable AI Agents](https://useworkflow.dev/docs/ai)\n- [Streaming Updates from Tools](https://useworkflow.dev/docs/ai/streaming-updates-from-tools)\n- [Resumable Streams](https://useworkflow.dev/docs/ai/resumable-streams)\n- [Sleep, Suspense, and Scheduling](https://useworkflow.dev/docs/ai/sleep-and-delays)\n- [Human-in-the-Loop](https://useworkflow.dev/docs/ai/human-in-the-loop)\n- [Patterns for Defining Tools](https://useworkflow.dev/docs/ai/defining-tools)\n- [Chat Session Modeling](https://useworkflow.dev/docs/ai/chat-session-modeling)\n\n[Deploying](https://useworkflow.dev/docs/deploying)\n\n[Errors](https://useworkflow.dev/docs/errors)\n\n[API Reference](https://useworkflow.dev/docs/api-reference)\n\nLocal WorldHow It Works\n\n[Deploying](https://useworkflow.dev/docs/deploying) [World](https://useworkflow.dev/docs/deploying/world)\n\n# Local World\n\nThe **Local World** (`@workflow/world-local`) is a filesystem-based workflow backend designed for local development and testing. It stores workflow data as JSON files on disk and provides in-memory queuing.\n\nThe local world is perfect for local development because it:\n\n- Requires no external services or configuration\n- Stores data as readable JSON files for easy debugging\n- Provides instant feedback during development\n- Works seamlessly with Next.js development server\n\n## [How It Works](https://useworkflow.dev/docs/deploying/world/local-world\\#how-it-works)\n\n### [Storage](https://useworkflow.dev/docs/deploying/world/local-world\\#storage)\n\nThe local world stores all workflow data as JSON files in a configurable directory:\n\n```\n.workflow-data/\n├── runs/\n│   └── <run-id>.json\n├── steps/\n│   └── <run-id>/\n│       └── <step-id>.json\n├── hooks/\n│   └── <hook-id>.json\n└── streams/\n    └── <run-id>/\n        └── <stream-id>.json\n```\n\nEach file contains the full state of a run, step, hook, or stream, making it easy to inspect workflow data directly.\n\n### [Queuing](https://useworkflow.dev/docs/deploying/world/local-world\\#queuing)\n\nThe local world uses an in-memory queue with HTTP transport:\n\n1. When a step is enqueued, it's added to an in-memory queue\n2. The queue processes steps by sending HTTP requests to your development server\n3. Steps are executed at the `.well-known/workflow/v1/step` endpoint\n\nThe queue automatically detects your development server's port and adjusts the queue URL accordingly.\n\n### [Authentication](https://useworkflow.dev/docs/deploying/world/local-world\\#authentication)\n\nThe local world provides a simple authentication implementation since no authentication is required or enforced in local development.\n\n```\ngetAuthHeaders(): Promise<Record<string, string>> {\n  return Promise.resolve({});\n}\n```\n\n## [Configuration](https://useworkflow.dev/docs/deploying/world/local-world\\#configuration)\n\n### [Data Directory](https://useworkflow.dev/docs/deploying/world/local-world\\#data-directory)\n\nBy default, workflow data is stored in `.workflow-data/` in your project root. This can be customized through environment variables or programmatically.\n\n**Environment variable:**\n\n```\nexport WORKFLOW_LOCAL_DATA_DIR=./custom-workflow-data\n```\n\n**Programmatically:**\n\n```\nimport { createLocalWorld } from \"@workflow/world-local\";\n\nconst world = createLocalWorld({ dataDir: \"./custom-workflow-data\" });\n```\n\n### [Port](https://useworkflow.dev/docs/deploying/world/local-world\\#port)\n\nBy default, the local world **automatically detects** which port your application is listening on using process introspection. This works seamlessly with frameworks like SvelteKit, Vite, and others that use non-standard ports.\n\n**Auto-detection example** (recommended):\n\n```\nimport { createLocalWorld } from \"@workflow/world-local\";\n\n// Port is automatically detected - no configuration needed!\nconst world = createLocalWorld();\n```\n\nIf auto-detection fails, the world will fall back to the `PORT` environment variable, then to port `3000`.\n\n**Manual port override** (when needed):\n\nYou can override the auto-detected port by specifying it explicitly:\n\n```\nimport { createLocalWorld } from \"@workflow/world-local\";\n\nconst world = createLocalWorld({ port: 3000 });\n```\n\n### [Base URL](https://useworkflow.dev/docs/deploying/world/local-world\\#base-url)\n\nFor advanced use cases like HTTPS or custom hostnames, you can override the entire base URL. When set, this takes precedence over all port detection and configuration.\n\n**Use cases:**\n\n- HTTPS dev servers (e.g., `next dev --experimental-https`)\n- Custom hostnames (e.g., `local.example.com`)\n- Non-localhost development\n\n**Environment variable:**\n\n```\nexport WORKFLOW_LOCAL_BASE_URL=https://local.example.com:3000\n```\n\n**Programmatically:**\n\n```\nimport { createLocalWorld } from \"@workflow/world-local\";\n\n// HTTPS\nconst world = createLocalWorld({\n  baseUrl: \"https://localhost:3000\"\n});\n\n// Custom hostname\nconst world = createLocalWorld({\n  baseUrl: \"https://local.example.com:3000\"\n});\n```\n\n## [Usage](https://useworkflow.dev/docs/deploying/world/local-world\\#usage)\n\n### [Automatic (Recommended)](https://useworkflow.dev/docs/deploying/world/local-world\\#automatic-recommended)\n\nThe local world is used automatically during local development:\n\n```\n# Start your Next.js dev server\nnpm run dev\n\n# Workflows automatically use local world\n```\n\n### [Manual](https://useworkflow.dev/docs/deploying/world/local-world\\#manual)\n\nYou can explicitly set the local world through environment variables:\n\n```\nexport WORKFLOW_TARGET_WORLD=local\n\nnpm run dev\n```\n\n## [Development Workflow](https://useworkflow.dev/docs/deploying/world/local-world\\#development-workflow)\n\nA typical development workflow with local world:\n\n1. **Start your dev server:**\n\n\n\n```\nnpm run dev\n```\n\n2. **Trigger a workflow:**\n\n\n\n```\ncurl -X POST --json '{\"email\":\"test@example.com\"}' http://localhost:3000/api/signup\n```\n\n3. **Inspect the results:**\n   - Use the [CLI or Web UI](https://useworkflow.dev/docs/observability)\n   - Check JSON files in `.workflow-data/`\n   - View development server logs\n\n## [Inspecting Data](https://useworkflow.dev/docs/deploying/world/local-world\\#inspecting-data)\n\n### [Using Observability Tools](https://useworkflow.dev/docs/deploying/world/local-world\\#using-observability-tools)\n\nThe local world integrates with the Workflow DevKit's observability tools:\n\n```\n# View runs with CLI\nnpx workflow inspect runs\n\n# View runs with Web UI\nnpx workflow inspect runs --web\n```\n\nLearn more in the [Observability](https://useworkflow.dev/docs/observability) section.\n\n## [Limitations](https://useworkflow.dev/docs/deploying/world/local-world\\#limitations)\n\nThe local world is designed for development, not production:\n\n- **Not scalable** \\- Uses in-memory queuing\n- **Not persistent** \\- Data is stored in local files\n- **Single instance** \\- Cannot handle distributed deployments\n- **No authentication** \\- Suitable only for local development\n\nFor production deployments, use the [Vercel World](https://useworkflow.dev/docs/deploying/world/vercel-world).\n\n## [API Reference](https://useworkflow.dev/docs/deploying/world/local-world\\#api-reference)\n\n### [`createLocalWorld`](https://useworkflow.dev/docs/deploying/world/local-world\\#createlocalworld)\n\nCreates a local world instance:\n\n```\nfunction createLocalWorld(\n  args?: Partial<{\n    dataDir: string;\n    port: number;\n    baseUrl: string;\n  }>\n): World\n```\n\n**Parameters:**\n\n- `args`\\- Optional configuration object:\n  - `dataDir` \\- Directory for storing workflow data (default: `.workflow-data/` or `WORKFLOW_LOCAL_DATA_DIR` env var)\n  - `port` \\- Port override for queue transport (default: auto-detected → `PORT` env var → `3000`)\n  - `baseUrl` \\- Full base URL override for queue transport (default: `http://localhost:{port}` or `WORKFLOW_LOCAL_BASE_URL` env var)\n\n**Returns:**\n\n- `World` \\- A world instance implementing the World interface\n\n**Examples:**\n\n```\nimport { createLocalWorld } from \"@workflow/world-local\";\n\n// Use all defaults (recommended - auto-detects port)\nconst world = createLocalWorld();\n\n// Custom data directory\nconst world = createLocalWorld({ dataDir: \"./my-data\" });\n\n// Override port\nconst world = createLocalWorld({ port: 3000 });\n\n// HTTPS with custom hostname\nconst world = createLocalWorld({\n  baseUrl: \"https://local.example.com:3000\"\n});\n\n// Multiple options\nconst world = createLocalWorld({\n  dataDir: \"./my-data\",\n  baseUrl: \"https://localhost:3000\"\n});\n```\n\n## [Learn More](https://useworkflow.dev/docs/deploying/world/local-world\\#learn-more)\n\n- [World Interface](https://useworkflow.dev/docs/deploying/world) \\- Understanding the World interface\n- [Vercel World](https://useworkflow.dev/docs/deploying/world/vercel-world) \\- For production deployments\n- [Observability](https://useworkflow.dev/docs/observability) \\- Monitoring and debugging tools\n\n[Worlds\\\\\n\\\\\nPrevious Page](https://useworkflow.dev/docs/deploying/world) [Vercel World\\\\\n\\\\\nNext Page](https://useworkflow.dev/docs/deploying/world/vercel-world)\n\nOn this page\n\n[How It Works](https://useworkflow.dev/docs/deploying/world/local-world#how-it-works) [Storage](https://useworkflow.dev/docs/deploying/world/local-world#storage) [Queuing](https://useworkflow.dev/docs/deploying/world/local-world#queuing) [Authentication](https://useworkflow.dev/docs/deploying/world/local-world#authentication) [Configuration](https://useworkflow.dev/docs/deploying/world/local-world#configuration) [Data Directory](https://useworkflow.dev/docs/deploying/world/local-world#data-directory) [Port](https://useworkflow.dev/docs/deploying/world/local-world#port) [Base URL](https://useworkflow.dev/docs/deploying/world/local-world#base-url) [Usage](https://useworkflow.dev/docs/deploying/world/local-world#usage) [Automatic (Recommended)](https://useworkflow.dev/docs/deploying/world/local-world#automatic-recommended) [Manual](https://useworkflow.dev/docs/deploying/world/local-world#manual) [Development Workflow](https://useworkflow.dev/docs/deploying/world/local-world#development-workflow) [Inspecting Data](https://useworkflow.dev/docs/deploying/world/local-world#inspecting-data) [Using Observability Tools](https://useworkflow.dev/docs/deploying/world/local-world#using-observability-tools) [Limitations](https://useworkflow.dev/docs/deploying/world/local-world#limitations) [API Reference](https://useworkflow.dev/docs/deploying/world/local-world#api-reference) [`createLocalWorld`](https://useworkflow.dev/docs/deploying/world/local-world#createlocalworld) [Learn More](https://useworkflow.dev/docs/deploying/world/local-world#learn-more)\n\n[GitHubEdit this page on GitHub](https://github.com/vercel/workflow/edit/main/content/docs/deploying/world/local-world.mdx) Scroll to topGive feedbackCopy pageAsk AI about this pageOpen in chat\n\n## Chat\n\nWhat is Workflow?How does retrying work?What control flow patterns are there?How do directives work?How do I build an AI agent?\n\nTip: You can open and close chat with `⌘I`\n\n0 / 1000",
  "metadata": {
    "next-size-adjust": "",
    "ogImage": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "viewport": "width=device-width, initial-scale=1",
    "og:title": "Local World",
    "og:image:width": "1200",
    "og:image:height": "628",
    "twitter:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "title": "Local World",
    "language": "en",
    "og:image:type": "image/png",
    "twitter:card": "summary_large_image",
    "og:image": "https://useworkflow.dev/opengraph-image.png?opengraph-image.f38670ff.png",
    "twitter:image:width": "1200",
    "ogTitle": "Local World",
    "twitter:image:height": "628",
    "twitter:title": "Local World",
    "twitter:image:type": "image/png",
    "favicon": "https://useworkflow.dev/favicon.ico?favicon.e7ce0d1c.ico",
    "scrapeId": "019bf2d4-569c-75d7-940f-669469d5401b",
    "sourceURL": "https://useworkflow.dev/docs/deploying/world/local-world",
    "url": "https://useworkflow.dev/docs/deploying/world/local-world",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "hit",
    "cachedAt": "2026-01-24T22:00:57.481Z",
    "creditsUsed": 1
  }
}